<div fxLayout="row wrap">
  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="33" fxFlex.lg="33" fxFlex.xl="33">
    <mat-card>
      <h6>{{'COMMON.ORDER_DETAILS' | translate}}</h6>
      <div>
          <div class="proflie-field mb-1">
            <label>{{'COMMON.YOUR_STORE' | translate}}</label>
            <a href="{{order.storeUrl}}" target="_blank">
              {{order.storeUrl}}
            </a>
          </div>
          <div class="proflie-field mb-1">
            <label>Add Date:</label>
            <span>{{order.createDate | date: 'MM/dd/yyyy hh:mm:ss'}}</span>
          </div>
          <div class="proflie-field mb-1">
            <label>Payment Method:</label>
            <span>{{order.paymentMethod}}</span>
          </div>
          <div class="proflie-field mb-1">
            <label>Shipping Method:</label>
            <span>{{order.shippingMethod}}</span>
          </div>
      </div>
    </mat-card>
  </div>

  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="33" fxFlex.lg="33" fxFlex.xl="33">
    <mat-card>
      <h6>{{'COMMON.CUSTOMER_DETAILS' | translate}}</h6>
      <div>
          <div class="proflie-field mb-1">
            <label>{{'COMMON.NAME' | translate}}</label>
            <span>{{order.firstName}} {{order.lastName}}</span>
          </div>
          <div class="proflie-field mb-1">
            <label>{{'COMMON.EMAIL' | translate}}</label>
            <span>{{order.email}}</span>
          </div>
          <div class="proflie-field mb-1">
            <label>{{'COMMON.PHONE' | translate}}</label>
            <span>{{order.telephone}}</span>
          </div>
      </div>
    </mat-card>
  </div>

  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="33" fxFlex.lg="33" fxFlex.xl="33">
    <mat-card>
      <h6>{{'COMMON.OPTIONS' | translate}}</h6>
      <div>
          <div class="proflie-field mb-1">
            <label>{{'COMMON.REWARD_POINTS' | translate}}</label>
            <span>{{order.totalRewardPoints}}</span>
          </div>
      </div>
    </mat-card>
  </div>

</div>

<div fxLayout="row wrap">
  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50">
    <mat-card>
      <h6>{{'COMMON.PAYMENT_ADDRESS' | translate}}</h6>
      <div>
          <div class="proflie-field mb-1">
            <label>{{order.paymentfirstName}} {{order.paymentlastName}}</label>
          </div>
          <div class="proflie-field mb-1">
            <label>{{order.paymentAddress1}}</label>
          </div>
          <div class="proflie-field mb-1" *ngIf="!isEmpty(order.paymentAddress2)">
            <label>{{order.paymentAddress2}}</label>
          </div>
          <div class="proflie-field mb-1">
            <label>{{order.paymentCity}}, {{order.paymentZone}} {{order.paymentPostcode}}</label>
          </div>
          <div class="proflie-field mb-1">
            <label>{{order.paymentCountry}}</label>
          </div>
      </div>
    </mat-card>
  </div>

  <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="50" fxFlex.lg="50" fxFlex.xl="50">
    <mat-card>
      <h6>{{'COMMON.SHIPPING_ADDRESS' | translate}}</h6>
      <div>
          <div class="proflie-field mb-1">
            <label>{{order.shippingfirstName}} {{order.shippinglastName}}</label>
          </div>
          <div class="proflie-field mb-1">
            <label>{{order.shippingAddress1}}</label>
          </div>
          <div class="proflie-field mb-1" *ngIf="!isEmpty(order.shippingAddress2)">
            <label>{{order.shippingAddress2}}</label>
          </div>
          <div class="proflie-field mb-1">
            <label>{{order.shippingCity}}, {{order.shippingZone}} {{order.shippingPostcode}}</label>
          </div>
          <div class="proflie-field mb-1">
            <label>{{order.shippingCountry}}</label>
          </div>
      </div>
    </mat-card>
  </div>

</div>

<div class="table-wrapper">
  <mat-card>
    <h6>{{'COMMON.ORDER' | translate}} (#{{order.id}})</h6>
    <table mat-table [dataSource]="dataSource" matSort class="w-100">

      <!-- Product Column -->
      <ng-container matColumnDef="product" >
        <th mat-header-cell *matHeaderCellDef width ="20%" mat-sort-header> {{'COMMON.PRODUCT' | translate}} </th>
        <td mat-cell *matCellDef="let orderProduct"> {{orderProduct.name}} </td>
        <td mat-footer-cell *matFooterCellDef> <h6>SubTotal</h6></td>
      </ng-container>

      <!-- Model Column -->
      <ng-container matColumnDef="model">
        <th mat-header-cell *matHeaderCellDef width ="25%" mat-sort-header> {{'COMMON.MODEL' | translate}} </th>
        <td mat-cell *matCellDef="let orderProduct"> {{orderProduct.model}} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>


      <!-- Quantity Column -->
      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef width ="10%" mat-sort-header> {{'COMMON.QUANTITY' | translate}} </th>
        <td mat-cell *matCellDef="let orderProduct"> {{orderProduct.quantity}} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <!-- Price Column -->
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef width ="20%" mat-sort-header> {{'COMMON.UNIT_PRICE' | translate}} </th>
        <td mat-cell *matCellDef="let orderProduct"> {{orderProduct.price}} </td>
        <td mat-footer-cell *matFooterCellDef> </td>
      </ng-container>

      <!-- Total Column -->
      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef width ="20%" mat-sort-header> {{'COMMON.TOTAL' | translate}} </th>
        <td mat-cell *matCellDef="let orderProduct"> {{orderProduct.total}} </td>
        <td mat-footer-cell *matFooterCellDef>
          <span class="mobile-value bold"> {{ order.total }}</span>
        </td>
      </ng-container>

      <!-- empty footer row-->
    <ng-container matColumnDef="emptyFooter">
      <mat-footer-cell *matFooterCellDef class="mobile-hide"></mat-footer-cell>
    </ng-container>

    <!-- set footer for vat amount-->
    <ng-container matColumnDef="shippingRateTitle">
      <td mat-footer-cell *matFooterCellDef><h6>Shipping Rate</h6></td>
    </ng-container>

     <ng-container matColumnDef="emptyFooter1">
      <td mat-footer-cell *matFooterCellDef>
      </td>
    </ng-container>

    <ng-container matColumnDef="emptyFooter2">
      <td mat-footer-cell *matFooterCellDef>
      </td>
    </ng-container>

    <ng-container matColumnDef="emptyFooter3">
      <td mat-footer-cell *matFooterCellDef>
      </td>
    </ng-container>

    <ng-container matColumnDef="shippingAmount">
      <td mat-footer-cell *matFooterCellDef>{{ order.total }}</td>
    </ng-container>

    <!-- set footer for total amount-->
    <ng-container matColumnDef="totalAmountTitle">
      <td mat-footer-cell *matFooterCellDef><h6>Total</h6></td>
    </ng-container>

    <ng-container matColumnDef="emptyFooter4">
      <td mat-footer-cell *matFooterCellDef>
      </td>
    </ng-container>

    <ng-container matColumnDef="emptyFooter5">
      <td mat-footer-cell *matFooterCellDef>
      </td>
    </ng-container>

    <ng-container matColumnDef="emptyFooter6">
      <td mat-footer-cell *matFooterCellDef>
      </td>
    </ng-container>

    <ng-container matColumnDef="totalAmount">
      <td mat-footer-cell *matFooterCellDef>
        {{ order.total }}
      </td>
    </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let order; columns: displayedColumns;"></tr>
      <tr mat-footer-row class="sticky-footer" *matFooterRowDef="displayedColumns"></tr>
      <tr mat-footer-row class="sticky-footer" *matFooterRowDef="displayedShippingColumns"></tr>
      <tr mat-footer-row class="sticky-footer" *matFooterRowDef="displayedTotalColumns"></tr>
    </table>
    <p *ngIf="dataSource?.data.length === 0" class="py-5 mb-0 text-center">{{'MESSAGE.NO_DATA' | translate}}</p>

    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons></mat-paginator>
  </mat-card>
</div>
