<mat-card>
  <form name="form" #f="ngForm" validate>
    <div fxLayoutAlign="space-between" *ngIf="!fromAdmin">
      <!-- <h4>{{'COMMON.REPORTS'|translate}}</h4> -->
      <h4 *ngIf="rptType==1">{{'COMMON.INVENTORY_RPT' | translate}}</h4>
      <h4 *ngIf="rptType==2"> {{'COMMON.SALES_RPT' | translate}}</h4>
      <h4 *ngIf="rptType==3"> {{'COMMON.EXPENSES_RPT' | translate}}</h4>
    </div>
    <div fxLayout="row wrap" fxLayoutAlign="none" class="col-gap">
      <div fxFlex.xs="100" fxFlex.sm="100" fxFlex.md="80" fxFlex.lg="80" fxFlex.xl="80">
        <mat-form-field appearance="outline" class="w-100" *ngIf="stores && stores.length>0">
          <mat-label> {{'COMMON.SELECT_STORE' | translate}} <font color="red">*</font>
          </mat-label>
          <mat-select [compareWith]="compareObjects" [(ngModel)]="selectedStore" appearance="outline" name="store">
            <mat-option *ngFor="let store of stores" [value]="store">
              {{store.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <button *ngIf="!stores || stores.length===0" mat-raised-button color="accent"
          [routerLink]="['/account/profile/edit']"
          [queryParams]="{type:'store', sId:0}">{{'COMMON.ADD_STORE'|translate}}
        </button>
      </div>
    </div>
    <div fxLayout="row wrap" fxLayoutAlign="none" class="col-gap">
      <div *ngIf="rptType==1 && selectedStore" fxFlex="100" fxFlex.gt-sm="100" fxFlex.sm="100" ngClass.xs="pt-5">
        <!-- <a mat-button color="accent" class="w-100 text-left" style="text-align: left;text-transform: uppercase;">
          {{'COMMON.INVENTORY_RPT' | translate}}
        </a> -->
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===1?'accent':'primary'" (click)="runInvnReport(1)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===1">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===1)">done</mat-icon>
              <span>{{'COMMON.ALL_INVENTORY_RPT'|translate}}</span>
            </a>
          </p>
        </span>
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===2?'accent':'primary'" (click)="runInvnReport(2)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===2">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===2)">done</mat-icon>
              <span>{{'COMMON.LOW_INVENTORY_RPT'|translate}}</span>
            </a>
          </p>
        </span>
      </div>

      <div *ngIf="rptType==2 && selectedStore" fxFlex="100" fxFlex.gt-sm="100" fxFlex.sm="100" ngClass.xs="pt-5">

        <!-- <a mat-button color="accent" class="w-100 text-left" style="text-align: left;text-transform: uppercase;">
          {{'COMMON.SALES_RPT' | translate}}
        </a> -->
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===3?'accent':'primary'" (click)="runInvnReport(3)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon>done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_PRD'|translate}}</span>
            </a>
          </p>
        </span>
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===4?'accent':'primary'" (click)="runInvnReport(4)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===4">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===4)">done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_EMP'|translate}}</span>
            </a>
          </p>
        </span>
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===5?'accent':'primary'" (click)="runInvnReport(5)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===5">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===5)">done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_CAT'|translate}}</span>
            </a>
          </p>
        </span>

        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===6?'accent':'primary'" (click)="runInvnReport(6)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===6">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===6)">done</mat-icon>
              <span>{{'COMMON.RECEIPTS'|translate}}</span>
            </a>
          </p>
        </span>

        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===7?'accent':'primary'" (click)="runInvnReport(7)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===7">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===7)">done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_MENU'|translate}}</span>
            </a>
          </p>
        </span>

        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===8?'accent':'primary'" (click)="runInvnReport(8)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===8">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===8)">done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_TABL'|translate}}</span>
            </a>
          </p>
        </span>

        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===11?'accent':'primary'" (click)="runInvnReport(11)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===11">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===11)">done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_PAY_METH'|translate}}</span>
            </a>
          </p>
        </span>
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===15?'accent':'primary'" (click)="runInvnReport(15)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===15">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===15)">done</mat-icon>
              <span>{{'COMMON.SALES_SUMMARY_ACCOUNTING'|translate}}</span>
            </a>
          </p>
        </span>
         <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===13?'accent':'primary'" (click)="runInvnReport(13)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===13">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===13)">done</mat-icon>
              <span>{{'COMMON.ROOM_SUMMARY_RPT'|translate}}</span>
            </a>
          </p>
        </span>

          <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===14?'accent':'primary'" (click)="runInvnReport(14)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===14">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===14)">done</mat-icon>
              <span>{{'COMMON.ROOM_SALES_SUMMARY'|translate}}</span>
            </a>
          </p>
        </span>



      </div>


      <div *ngIf="rptType==3 && selectedStore" fxFlex="100" fxFlex.gt-sm="100" fxFlex.sm="100" ngClass.xs="pt-5">
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===9?'accent':'primary'" (click)="runInvnReport(9)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===9">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===9)">done</mat-icon>
              <span>{{'COMMON.EXPENSES_RPT'|translate}}</span>
            </a>
          </p>
        </span>
        <span>
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===10?'accent':'primary'" (click)="runInvnReport(10)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===10">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===10)">done</mat-icon>
              <span>{{'COMMON.PO_RPT'|translate}}</span>
            </a>
          </p>
        </span>
             <span *ngIf="selectedStore && selectedStore.id===17">
          <p fxLayout="row" fxLayoutAlign="start center" class="mt-1">
            <a mat-button [color]="subRpt===12?'accent':'primary'" (click)="runInvnReport(12)"
              routerLinkActive="horizontal-active-link" [routerLinkActiveOptions]="{exact:true}">
              <mat-icon *ngIf="subRpt===12">done_all</mat-icon>
              <mat-icon *ngIf="!(subRpt===12)">done</mat-icon>
              <span>{{'COMMON.BALANCE_SHEET'|translate}}</span>
            </a>
          </p>
        </span>
      </div>

      <div *ngIf="rptType > 0" fxFlex="100" fxFlex.gt-sm="100" fxFlex.sm="100" ngClass.xs="pt-5">

        <div class="w-100" *ngIf="showFormatParams">
          <mat-label> Format*</mat-label><br />
          <mat-radio-group id="reportFormat" class="form-control" [(ngModel)]="reportFormat" name="reportFormat"
            #format="ngModel" required>
            <mat-radio-button value="pdf">
              PDF
            </mat-radio-button>
            <mat-radio-button value="xlsx">
              Excel
            </mat-radio-button>
             <mat-radio-button value="csv">
              CSV
            </mat-radio-button>
          </mat-radio-group>
          <br />
        </div>


        <mat-form-field class="w-100" *ngIf="showParams">
          <mat-label> {{'COMMON.START_DATE' | translate}}</mat-label><br />
          <input matInput [matDatepicker]="beginDatePicker" class="form-control" id="beginDate1" [(ngModel)]="beginDate"
            name="beginDate1" #beginDate1="ngModel" required>
          <mat-datepicker-toggle matSuffix [for]="beginDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #beginDatePicker></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="w-100" *ngIf="showParams">
          <mat-label> {{'COMMON.END_DATE' | translate}}</mat-label><br />
          <input matInput [matDatepicker]="endDatePicker" class="form-control" id="endDate1" [(ngModel)]="endDate"
            name="endDate1" #endDate1="ngModel" required>
          <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
          <mat-datepicker #endDatePicker></mat-datepicker>
        </mat-form-field>

        <mat-form-field *ngIf="showParams && allowExRcpt && subRpt === 6">
          <mat-label> {{'COMMON.PERCENT_OF_RECEIPT'|translate}}</mat-label><br />
          <input matInput type="text" placeholder="100" class="form-control" id="percentPrint1"
            [(ngModel)]="percentPrint" name="percentPrint1" #percentPrint1="ngModel">
        </mat-form-field>

        <div class="text-center" *ngIf="(showParams || showFormatParams) && !running">
          <button mat-raised-button (click)="runRpt()" color="primary" fxLayout="row" [disabled]="!beginDate && endDate"
            fxLayoutAlign="center center" type="submit">
            <span class="mx-1 uppercase">{{'COMMON.RUN' | translate}}</span>
            <mat-icon>filter_alt</mat-icon>
          </button>
        </div>

      </div>

    </div>

    <div fxLayout="row wrap" *ngIf="error && !running" xLayoutAlign="none" class="col-gap">
      <div fxFlex="100" fxFlex.gt-sm="100" fxFlex.sm="100" ngClass.xs="pt-5">
        <h4>
          <font color="red">{{error}}</font>
        </h4>
      </div>
    </div>

    <div fxLayout="row wrap" *ngIf="running" xLayoutAlign="none" class="col-gap">
      <div fxFlex="100" fxFlex.gt-sm="100" fxFlex.sm="100" ngClass.xs="pt-5">
        <mat-spinner></mat-spinner>
      </div>
    </div>
  </form>
</mat-card>